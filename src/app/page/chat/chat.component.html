<!-- The Top Bar of the Chat section -->
<div class="chat-container">
  <div class="chat-header">
    <div class="chat-title">
      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
      </svg>
      <span>Chat</span>
    </div>
  </div>
<!-- The Chat Bot Section -->
  <div class="chat-layout">
    <div class="chat-section">
      <div class="chat-messages">
        <div class="message-container" *ngFor="let message of messages">
          <div class="message-content" [ngClass]="{'system-message': message.isSystem, 'user-message': message.isUser}">
            <!-- For system messages -->
            <div class="avatar-text-container" *ngIf="message.isSystem">
              <div class="message-avatar">
                <svg viewBox="0 0 24 24" width="24" height="24">
                  <circle cx="12" cy="12" r="10" fill="#FF4000"></circle>
                </svg>
              </div>
              <div class="message-text" [innerHTML]="message.text"></div>
            </div>

            <!-- Additional info buttons for system messages -->
            <div class="info-buttons" *ngIf="message.isSystem && message.needMoreInformation">
              <button class="info-button">Half</button>
              <button class="info-button">1/3</button>
              <button class="info-button">Double</button>
              <button class="info-button">2/3</button>
              <button class="info-button">Other</button>
            </div>

            <!-- For user messages -->
            <div class="avatar-text-container" *ngIf="message.isUser">
              <div class="message-text" [innerHTML]="message.text"></div>
              <div class="message-avatar">
                <svg viewBox="0 0 24 24" width="24" height="24">
                  <circle cx="12" cy="12" r="10" fill="#3e8ed0"></circle>
                </svg>
              </div>
            </div>
          </div>
        </div>
      </div>

<!-- The Chat Input Section -->
      <div class="chat-input">
        <div class="input-container">
          <input type="text" placeholder="Describe an object..." [(ngModel)]="inputMessage" (keyup.enter)="sendMessage()">
          <button class="send-button" (click)="sendMessage()">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M12 19V5"></path>
              <path d="m5 12 7 7 7-7"></path>
            </svg>
          </button>
        </div>
      </div>
    </div>

<!-- The Preview Section -->

    <div class="preview-section">
      <div class="component-preview">
        <!-- OutComment to test 3D view instead - Later add it as a if statement.
        <app-svgviewer
          [svgCodes]="generatedSvgCodes"
          (svgSelected)="onSvgSelected($event)">
        </app-svgviewer>-->
        <app-threed-viewer>

        </app-threed-viewer>
      </div>
    </div>
  </div>
</div>
